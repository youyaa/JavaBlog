## HTTP协议

超文本传输协议

用于客户端和服务端之间通信的协议。

## 通过发送信息（请求）和回应信息（响应）

HTTP都是由客户端发起请求的，并且由服务器端回应响应消息的。

灵活，我们知道允许可以任何类型的数据对象，包括音频，视频，图片，文件等等。

无状态，HTTP就是说，每次HTTP请求都是独立的，任何两个请求之间没有必然的联系。

**这是HTTP/1.0版的主要缺点，**每个TCP连接只能发送一个请求，发送数据完毕后，连接就关闭了，如果还要请求就必须要新建一个请求连接。

HTTP1.1虽然是无状态协议，但是为了实现期望的保持状态功能，于是引入了Cookie技术，有了Cookie，和HTTP协议通信，就可以管理状态了。



**TCP连接的新建成本很高，因为需要客户端和服务器端三次握手。**

**交流的简单流程：**客户端发起连接，客户端发起请求，服务器端响应请求，服务器端关闭连接。

HTTP、1.1版本是最流行的版本，可以持久连接，TCP连接默认不关闭，可以被多个请求复用，只有在一段时间内，没有请求，就可以自动关闭。

```html
// 不用声明：Connection: keep-alive
// 发送关闭Connection: close// 要求服务器关闭TCP连接
```

## HTTP 消息结构

我们可以把HTTP协议当做是一种客户端和服务器端相互沟通交流的语言，一个HTTP客户端在向服务器发送请求时会携带请求的消息，服务器端会根据客户端发送过来的请求消息了解客户端的需求，从而服务器端做出响应，发送响应消息给客户端。

**请求消息的结构：**

一个请求消息是由**请求行，请求头字段，一个空行和消息主体**构成。

消息主体是响应消息的承载数据。